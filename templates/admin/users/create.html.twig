{# templates/admin/users/create.html.twig #}
{% extends 'admin.html.twig' %}

{% block title %}{{ pageTitle }}{% endblock %}

{% block body %}
<div class="max-w-lg mx-auto">
  <div class="card bg-base-100 shadow">
    <div class="card-body space-y-4">
      <h1 class="card-title">{{ pageTitle }}</h1>

      <p class="text-sm text-base-content/70">
        Role:
        {% if mainRole == constant('App\\\\Entity\\\\User::ROLE_ADMIN') %}
          <span class="badge badge-primary badge-outline">Admin</span>
        {% else %}
          <span class="badge badge-info badge-outline">Staff</span>
        {% endif %}
      </p>

      {{ form_start(form, { attr: { class: 'space-y-4' } }) }}
        <div>
          <label class="block text-sm font-medium mb-1">Email</label>
          {{ form_widget(form.email, {
            attr: { class: 'input input-bordered w-full' }
          }) }}
          <p class="text-xs text-error mt-1">{{ form_errors(form.email) }}</p>
        </div>

        <div>
          <label class="block text-sm font-medium mb-1">Password</label>
          {{ form_widget(form.password, {
            attr: { class: 'input input-bordered w-full' }
          }) }}
          <p class="text-xs text-error mt-1">{{ form_errors(form.password) }}</p>
        </div>

        {# trường roles trong form sẽ bị override nên ẩn đi #}
        <div class="hidden">
          {{ form_row(form.roles) }}
        </div>

        <div class="flex justify-end gap-2">
          <a href="{{ path('admin_user_index') }}" class="btn btn-ghost">Cancel</a>
          <button type="submit" class="btn btn-primary">Save</button>
        </div>
      {{ form_end(form) }}
    </div>
  </div>
</div>
{% endblock %}
